(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();feather.replace();const w={kazan:[55.79,49.12,"u810XrM1l2g"],newYork:[40.714606,-74.0028,"Y84-eo8drzk"],sydney:[-33.86,151.2,"fEAhHJdl8KA"]},y=document.querySelectorAll(".city");y.forEach((t,r)=>{r===0&&t.classList.add("active"),t.addEventListener("click",()=>{const o=t.dataset.location;y.forEach(c=>{c.classList.remove("active")}),t.classList.add("active"),L(w[o]),S.classList.remove("active"),W()})});const D=document.querySelector('[data-elem="city"]'),k=document.querySelector('[data-elem="country"]'),v=document.querySelector('[data-elem="card"]'),E=document.querySelector('[data-elem="day"]'),x=document.querySelector('[data-elem="date"]'),b=document.querySelector('[data-elem="icon"]'),A=document.querySelector('[data-elem="temp"]'),N=document.querySelector('[data-elem="desc"]'),I=document.querySelector('[data-elem="precipitation"]'),M=document.querySelector('[data-elem="humidity"]'),T=document.querySelector('[data-elem="wind"]'),i=document.querySelector('[data-elem="week"]'),f=document.createDocumentFragment(),$=document.querySelector('[data-elem="button"]'),S=document.querySelector('[data-elem="cities"]');function h(t){I.textContent=(t.pop*100).toString(),M.textContent=t.main.humidity,T.textContent=Math.round(t.wind.speed).toString()}function O(t){D.textContent=t.city.name,k.textContent=t.city.country}function g(t){const r=Math.round(t.main.temp).toString(),o=t.weather[0],c={weekday:"long"},e={year:"numeric",month:"short",day:"numeric"},n=new Date(t.dt*1e3).toLocaleDateString("ru-RU",c),a=new Date(t.dt*1e3).toLocaleDateString("ru-RU",e);E.textContent=n,x.textContent=a,A.textContent=r,N.textContent=o.description,b.setAttribute("src",`https://openweathermap.org/img/wn/${o.icon}@2x.png`)}function L(t){const r=`https://api.openweathermap.org/data/2.5/forecast?lat=${t[0]}&lon=${t[1]}&appid=4559f75d98098656923a7f596c7567f7&units=metric&lang=ru`;fetch(r).then(o=>o.json()).then(o=>{const c=o.list.filter(e=>e.dt_txt.includes("12:00:00"));if(v.setAttribute("style",`background-image: url(https://unsplash.com/photos/${t[2]}/download?force=true&w=640);`),O(o),c.forEach((e,n)=>{const a=Math.round(e.main.temp).toString(),u=e.weather[0],C={weekday:"short"},q=new Date(e.dt*1e3).toLocaleString("ru-RU",C);if(n===0&&(h(e),g(e)),i){const s=document.createElement("li"),m=document.createElement("span"),p=document.createElement("img"),d=document.createElement("span"),l=document.createElement("span");m.className="day-icon",p.setAttribute("alt","weather icon"),p.setAttribute("src",`https://openweathermap.org/img/wn/${u.icon}@2x.png`),d.className="day-name",d.dataset.elem="name",d.textContent=q,l.className="day-temp",l.dataset.elem="temp",l.textContent=a+"Â°C",n===0&&(s.className="active"),m.appendChild(p),s.appendChild(m),s.appendChild(d),s.appendChild(l),f.append(s)}}),i){i.appendChild(f);const e=i.querySelectorAll("li");e.forEach((n,a)=>{n.addEventListener("click",()=>{e.forEach(u=>u.classList.remove("active")),n.classList.add("active"),h(c[a]),g(c[a])})})}})}function W(){i.innerHTML=""}$.addEventListener("click",()=>{S.classList.toggle("active")});L(w.kazan);
